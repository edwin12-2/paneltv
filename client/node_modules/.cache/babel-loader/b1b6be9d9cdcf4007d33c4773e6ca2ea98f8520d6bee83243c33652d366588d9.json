{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { toast } from \"react-hot-toast\";\nimport { getFollowedChannels, getChannels as getChannelsRequest } from \"../../api\";\nexport const useChannels = () => {\n  _s();\n  const [channels, setChannels] = useState(null);\n  const getChannels = async (isLogged = false) => {\n    const channelsData = await getChannelsRequest();\n    if (channelsData.error) {\n      var _channelsData$excepti, _channelsData$excepti2;\n      return toast.error(((_channelsData$excepti = channelsData.exception) === null || _channelsData$excepti === void 0 ? void 0 : (_channelsData$excepti2 = _channelsData$excepti.response) === null || _channelsData$excepti2 === void 0 ? void 0 : _channelsData$excepti2.data) || \"Error occurred when fetching the channels\");\n    }\n    if (!isLogged) {\n      return setChannels({\n        channels: channelsData.data.channels\n      });\n    }\n    const followedChannelsData = await getFollowedChannels();\n    if (followedChannelsData.error) {\n      var _followedChannelsData, _followedChannelsData2;\n      return toast.error(((_followedChannelsData = followedChannelsData.exception) === null || _followedChannelsData === void 0 ? void 0 : (_followedChannelsData2 = _followedChannelsData.response) === null || _followedChannelsData2 === void 0 ? void 0 : _followedChannelsData2.data) || \"Error occurred when fetching the followed channels\");\n    }\n    setChannels({\n      channels: channelsData.data.channels,\n      followedChannels: followedChannelsData.data.followedChannels\n    });\n  };\n  useEffect(() => {\n    console.log(channels);\n  }, [channels]);\n  return {\n    getChannels\n  };\n};\n_s(useChannels, \"Do8kn5cpl5gbYaWZ68+w8goC+ac=\");","map":{"version":3,"names":["useState","useEffect","toast","getFollowedChannels","getChannels","getChannelsRequest","useChannels","_s","channels","setChannels","isLogged","channelsData","error","_channelsData$excepti","_channelsData$excepti2","exception","response","data","followedChannelsData","_followedChannelsData","_followedChannelsData2","followedChannels","console","log"],"sources":["F:/ProgramaciÃ³n/proyectos de nodeJS/twitch.tv/client/src/shared/hooks/useChannels.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport {\r\n    getFollowedChannels,\r\n    getChannels as getChannelsRequest,\r\n  } from \"../../api\";\r\n\r\nexport const useChannels = () => {\r\n    const [channels, setChannels] = useState(null);\r\n\r\n    const getChannels = async (isLogged = false) => {\r\n        const channelsData = await getChannelsRequest();\r\n\r\n        if (channelsData.error) {\r\n            return toast.error(\r\n            channelsData.exception?.response?.data ||\r\n                \"Error occurred when fetching the channels\"\r\n            );\r\n        }\r\n        \r\n        if (!isLogged) {\r\n            return setChannels({\r\n            channels: channelsData.data.channels,\r\n            });\r\n        }\r\n\r\n        const followedChannelsData = await getFollowedChannels();\r\n\r\n        if (followedChannelsData.error) {\r\n            return toast.error(\r\n                followedChannelsData.exception?.response?.data ||\r\n                \"Error occurred when fetching the followed channels\"\r\n            );\r\n        }\r\n\r\n        setChannels({\r\n            channels: channelsData.data.channels,\r\n            followedChannels: followedChannelsData.data.followedChannels,\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        console.log(channels);\r\n    }, [channels]);\r\n\r\n    return {\r\n        getChannels,\r\n    };\r\n};"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,KAAK,QAAQ,iBAAiB;AACvC,SACIC,mBAAmB,EACnBC,WAAW,IAAIC,kBAAkB,QAC5B,WAAW;AAEpB,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAE9C,MAAMI,WAAW,GAAG,MAAAA,CAAOM,QAAQ,GAAG,KAAK,KAAK;IAC5C,MAAMC,YAAY,GAAG,MAAMN,kBAAkB,CAAC,CAAC;IAE/C,IAAIM,YAAY,CAACC,KAAK,EAAE;MAAA,IAAAC,qBAAA,EAAAC,sBAAA;MACpB,OAAOZ,KAAK,CAACU,KAAK,CAClB,EAAAC,qBAAA,GAAAF,YAAY,CAACI,SAAS,cAAAF,qBAAA,wBAAAC,sBAAA,GAAtBD,qBAAA,CAAwBG,QAAQ,cAAAF,sBAAA,uBAAhCA,sBAAA,CAAkCG,IAAI,KAClC,2CACJ,CAAC;IACL;IAEA,IAAI,CAACP,QAAQ,EAAE;MACX,OAAOD,WAAW,CAAC;QACnBD,QAAQ,EAAEG,YAAY,CAACM,IAAI,CAACT;MAC5B,CAAC,CAAC;IACN;IAEA,MAAMU,oBAAoB,GAAG,MAAMf,mBAAmB,CAAC,CAAC;IAExD,IAAIe,oBAAoB,CAACN,KAAK,EAAE;MAAA,IAAAO,qBAAA,EAAAC,sBAAA;MAC5B,OAAOlB,KAAK,CAACU,KAAK,CACd,EAAAO,qBAAA,GAAAD,oBAAoB,CAACH,SAAS,cAAAI,qBAAA,wBAAAC,sBAAA,GAA9BD,qBAAA,CAAgCH,QAAQ,cAAAI,sBAAA,uBAAxCA,sBAAA,CAA0CH,IAAI,KAC9C,oDACJ,CAAC;IACL;IAEAR,WAAW,CAAC;MACRD,QAAQ,EAAEG,YAAY,CAACM,IAAI,CAACT,QAAQ;MACpCa,gBAAgB,EAAEH,oBAAoB,CAACD,IAAI,CAACI;IAChD,CAAC,CAAC;EACN,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACZqB,OAAO,CAACC,GAAG,CAACf,QAAQ,CAAC;EACzB,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,OAAO;IACHJ;EACJ,CAAC;AACL,CAAC;AAACG,EAAA,CAzCWD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}