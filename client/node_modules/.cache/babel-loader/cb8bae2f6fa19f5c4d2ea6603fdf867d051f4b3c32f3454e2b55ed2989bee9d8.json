{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useStore } from \"../../store\";\nimport { getChatHistory, sendChatMessage } from \"../../socketConn\";\nimport { useUserDetails } from \"./useUserDetails\";\nexport const useChatHistory = channelId => {\n  _s();\n  const {\n    chatHistory\n  } = useStore();\n  const {\n    isLogged,\n    username\n  } = useUserDetails();\n  useEffect(() => {\n    getChatHistory(channelId);\n    return () => {\n      closeChatSubscription(channelId);\n    };\n  }, []);\n  const sendMessage = message => {\n    sendChatMessage(channelId, {\n      author: isLogged ? username : \"Guest\",\n      content: message\n    });\n  };\n  return {\n    messages: [],\n    sendMessage: () => {}\n  };\n};\n_s(useChatHistory, \"2lIHPQ0IjH1gisdjgOkgoIgkI+A=\", false, function () {\n  return [useStore, useUserDetails];\n});","map":{"version":3,"names":["useEffect","useStore","getChatHistory","sendChatMessage","useUserDetails","useChatHistory","channelId","_s","chatHistory","isLogged","username","closeChatSubscription","sendMessage","message","author","content","messages"],"sources":["F:/ProgramaciÃ³n/proyectos de nodeJS/twitch.tv/client/src/shared/hooks/useChatHistory.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useStore } from \"../../store\";\r\nimport { getChatHistory, sendChatMessage } from \"../../socketConn\";\r\nimport { useUserDetails } from \"./useUserDetails\";\r\n\r\nexport const useChatHistory = (channelId) => {\r\n  const { chatHistory } = useStore();\r\n  const { isLogged, username } = useUserDetails();\r\n\r\n  useEffect(() => {\r\n    getChatHistory(channelId);\r\n\r\n    return () => {\r\n      closeChatSubscription(channelId);\r\n    };\r\n  }, []);\r\n\r\n  const sendMessage = (message) => {\r\n    sendChatMessage(channelId, {\r\n      author: isLogged ? username : \"Guest\",\r\n      content: message,\r\n    });\r\n  };\r\n\r\n  return {\r\n    messages: [],\r\n    sendMessage: () => {},\r\n  };\r\n};\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,cAAc,EAAEC,eAAe,QAAQ,kBAAkB;AAClE,SAASC,cAAc,QAAQ,kBAAkB;AAEjD,OAAO,MAAMC,cAAc,GAAIC,SAAS,IAAK;EAAAC,EAAA;EAC3C,MAAM;IAAEC;EAAY,CAAC,GAAGP,QAAQ,CAAC,CAAC;EAClC,MAAM;IAAEQ,QAAQ;IAAEC;EAAS,CAAC,GAAGN,cAAc,CAAC,CAAC;EAE/CJ,SAAS,CAAC,MAAM;IACdE,cAAc,CAACI,SAAS,CAAC;IAEzB,OAAO,MAAM;MACXK,qBAAqB,CAACL,SAAS,CAAC;IAClC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMM,WAAW,GAAIC,OAAO,IAAK;IAC/BV,eAAe,CAACG,SAAS,EAAE;MACzBQ,MAAM,EAAEL,QAAQ,GAAGC,QAAQ,GAAG,OAAO;MACrCK,OAAO,EAAEF;IACX,CAAC,CAAC;EACJ,CAAC;EAED,OAAO;IACLG,QAAQ,EAAE,EAAE;IACZJ,WAAW,EAAEA,CAAA,KAAM,CAAC;EACtB,CAAC;AACH,CAAC;AAACL,EAAA,CAvBWF,cAAc;EAAA,QACDJ,QAAQ,EACDG,cAAc;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}